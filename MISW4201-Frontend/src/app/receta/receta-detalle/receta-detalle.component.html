<app-encabezado></app-encabezado>

<div class="container mt-4">
  <!-- Título de la receta -->
  <div class="text-center mb-4">
    <h2 class="titulo-receta">
      <i class="bi bi-journal-text me-2"></i>
      Detalle de la receta:
      <span class="nombre-receta">{{ recetaDetalle?.nombre }}</span>
    </h2>
    <hr class="titulo-divider" />
  </div>

  <!-- Información básica de la receta -->
  <div class="card shadow-sm mb-4 border-0 rounded-3">
    <div class="card-body">
      <table class="table table-hover align-middle mb-0">
        <tbody>
          <!-- Duración -->
          <tr>
            <th class="text-end text-muted">
              Tiempo aproximado de preparación:
            </th>
            <td>
              <span class="fw-semibold text-dark">
                {{ recetaDetalle?.duracion | number:'1.0-2' }} horas
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Ingredientes -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="fw-semibold text-purple">Ingredientes de esta receta</h5>
  </div>

  <div class="tabla">
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>Ingrediente</th>
          <th>Cantidad</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ri of recetaDetalle?.ingredientes" class="table-row-custom">
          <td>{{ ri.ingrediente.nombre }}</td>
          <td>{{ ri.cantidad | number:'1.0-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Preparación -->
  <div class="mt-4">
    <h5 class="fw-semibold text-purple">Preparación</h5>
    <div class="card shadow-sm border-0 rounded-3 p-3">
      <div [innerHTML]="recetaDetalle?.preparacion" class="text-dark"></div>
    </div>
  </div>

  <!-- Botón Compartir solo para admin -->
  <div class="d-flex justify-content-center pt-3 mb-3" *ngIf="recetaDetalle?.id && isAdmin">
    <a
      class="btn btn-primary"
      [routerLink]="[
        '/restaurantes',
        restauranteIdCtx,
        'receta',
        'compartir',
        recetaDetalle.id
      ]"
    >
      <i class="bi bi-share me-1"></i> Compartir
    </a>
  </div>
</div>
